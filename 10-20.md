---
title: io流
date: 10/20/2022 10:23:03 AM 
categories: 日志
comments: "true"
---

# 字节流 #

- 字节流的结尾一般都是InputStream ， OutputStream
- 是个抽象类
- 可以自动关闭
- 顶层类，上面就是Object
- 这个东西是要有参照物的
## OutputStream ##
```
	package 作业;
	import java.io.File;
	import java.io.FileNotFoundException;
	import java.io.FileOutputStream;
	import java.io.IOException;
	import java.io.OutputStream;
	public class sd3333sdfse {
		public static void main(String[] args) {
			// TODO Auto-generated method stub
			OutputStream os1;
			try {
				os1 = new FileOutputStream( new File("D:\\a.txt"), false); // 这个false代表是覆盖源文件，如果是true就是把字符串加入
				String s = "hello word";
				os1.write(s.getBytes());
				os1.flush();  // 落盘到磁盘上
				os1.close(); // 关闭文件输出流
			} catch (FileNotFoundException e1) {
				// TODO Auto-generated catch block
				e1.printStackTrace();
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}	
	}
```
## InputStream ##
```

	package 作业;
	import java.io.FileInputStream;
	import java.io.FileNotFoundException;
	import java.io.IOException;
	import java.io.InputStream;
	public class read {
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		try {
			InputStream is = new FileInputStream("D:/a.txt");
	//			while(is.available() != 0) {
	//				System.out.println((char)is.read()); // 默认一次只读一个字符
	//			}
			
			byte[] buffer = new byte[10]; // 通过设置缓冲区进行扩展一次可读的字符数量，如果是字符型，那这个byte要变char
			int len = 0; // 设置个长度
			while((len = is.read(buffer)) != -1) // 判断我是不是超出缓冲区的限定，如果超出，就只读取超出的部分
			{
				System.out.print(new String(buffer , 0 , len)); 
			}
			is.close();
			} catch (FileNotFoundException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		
		}
		}
```
# File类 #
## 基础 ##
- 定义：File d = new File("XXxxx"，"name"); // 这里XXxxx是文件目录 , 第二个是文件名字
- 文件或者目录
## exist（） ##
- 文件是有大小的，目录是无大小
- 判断文件/目录是不是存在
## isFile ##
- 代表判断是不是文件
## isDirectory ##
- 代表是不是文件夹
## length ##
- 代表查看其字节的长度，大小，但是文件有大小，目录无大小
## delete ##
- 代表删除文件，注意这里删除的文件不是送进回收站里的，如果要删除目录，要先把里面的文件清空

```

	package 作业;

	import java.io.File;

	public class file {

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		File m = new File("D:\\" , "a.txt");
		File k = new File("D//");
		System.out.println(m.exists());
		System.out.println(k.exists());
		System.out.println(k.isFile());
		System.out.println(m.isDirectory());
		System.out.println(k.length());
		System.out.println(k.delete());
		
	}

	}

```
## 删除文件夹 ##
```
	public static void SHANCHU(File k) {
		File[] ds =	k.listFiles(); 
		for (int i = 0; i < ds.length ; i++ ) {
			File[] h = ds[i].listFiles();
			if(h == null) {
				System.out.println("这个是个文件");
				ds[i].delete();
			} else {
				k.delete();
				SHANCHU(ds[i]);
					}
			k.delete();
			}
		}
```
## makedir ##
```
	package 作业;

	import java.io.File;

	public class adsgqjd {

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		File file = new File("D:/a/abc.txt");
		System.out.println(file.exists());
		System.out.println(file.mkdir());
		File file2 =new File("D:/a/c/v/bv/nb");
		System.out.println(file2.mkdirs());
		}

	}
```
- 我们通过mkdirs可以直接深度创建
- 但是如果没有父目录，一般的文件就无法创建

## 复制文件 ##

```
	private static File getCopy(File f1) {
		// TODO Auto-generated method stub
		String sufString = f1.getName().substring(f1.getName().lastIndexOf("."));
		String qi = f1.getName().substring(0, f1.getName().lastIndexOf("."));
		String use = qi + "-副本" + sufString;
		File newf = new File(f1.getParent() , use);
		if(newf.exists()) {
		return	getCopy(newf);
		} else {
		return newf;
		}
		}
	}
```
