---
title: jdbc
date: 11/7/2022 9:58:43 PM 
categories: 日志
comments: "true"
tag: maven
---
# Maven

## 简介

- Maven项目对象模型(POM)，可以通过一小段描述信息来管理项目的构建，报告和文档的软件项目管理工具。
- 注意是工具

## Maven的配置以及idea使用

### 下载及解压

- 首先在Maven的官网下载Maven
- [Maven官网](http://maven.apache.org/download.cgi "Maven官网")
- 我们windows一般下载 ： Binary zip archive的
- 我这里下载的是 apache-maven-3.8.6-bin.zip
- 下载完之后 ， 解压到一个文件目录下
- 我是新建了个文件目录 命名为 maven
- 如何解压到文件目录下

### 配置相关文件

- 解压成功之后 ，我们会获得几个文件夹
- bin
- boot
- conf
- lib
- 这个里conf是maven的配置文件
- 我们在这个目录下新建maven_repossitory文件夹
- 这个文件夹可以作为，我们的本地仓库
- 接下来，我们要修改 conf 文件夹下
- settings.xml文件
- 我们先找到
- `<localRepository>/path/to/local/repo</localRepository>`
- 这条语句的位置
- 把它更改成
- `<localRepository>你的maven_repossitory路径</localRepository>`
- 这样我们就自己创建了个
- 因为一般maven的默认仓库是
- `C:\Users\Administrator\.m2\repository`
- 接下来 ， 我们进行设置国内镜像源
- 找到 mirrors 标签
- 在mirrors里
- 加上：

```
<mirror>
	<id>alimaven</id>
	<mirrorOf>central</mirrorOf>
	<name>aliyun maven</name>
	<url>http://maven.aliyun.com/nexus/content/repositories/central/</url>
</mirror>


```

- 这个是阿里云的镜像 ， 如果不好使 可以以换成腾讯云 和网易的
- 添加方法和上面一样
- 接下来我们可以为maven配置全局的jdk，这样我们在创建maven项目时就会自动使用该jdk版本，我配置的是jdk1.8
- 找到标签 `<profiles></profiles>`
- 然后在标签里加入

```

		<!-- java版本 --> 
		<profile>
		  <id>jdk-1.8</id>
		  <activation>
			<activeByDefault>true</activeByDefault>
			<jdk>1.8</jdk>
		  </activation>
	
		  <properties>
			<maven.compiler.source>1.8</maven.compiler.source>
			<maven.compiler.target>1.8</maven.compiler.target>
			<maven.compiler.compilerVersion>1.8</maven.compiler.compilerVersion>
		  </properties>
		</profile>


```

### 更改idea的maven

- file 文件里的 setting
- 在上面搜索 maven
- 点进去之后
- 把Maven home directory
- 配置成自己的解压的文件夹
- 然后设置user setting file
- 把他设置成解压的文件的setting.xml
- 然后把 local repository
- 设置成之前自己配置的本地仓库
- 关于idea的配置就完成了

## 简单的链接mysql

- 首先创建maven项目
- 然后在pom.xml中加上
- 

```


    <dependency>
      <groupId>mysql</groupId>
      <artifactId>mysql-connector-java</artifactId>
      <version>5.1.28</version>
    </dependency>


```

- 在`<dependencies>`标签中加上
- 然后import change
- 然后在主程序的java项目包里
- 写上：

```

package org.example;

import java.sql.Connection;

/**
 * Hello world!
 *
 */
public class App 
{
    public static void main( String[] args )
    {
        String url = "jdbc:mysql://192.168.41.131:3306/try";
        String user = "root";
        String passwd = "liuzihan010616";

        Connection conect = dbutils.getConnection(url , user , passwd);

        System.out.println(conect);
        dbutils.closeConnection(conect);

        System.out.println( "Hello World!" );
    }
}



```

-然后创建一个dbutils

```


		package org.example;
	
		import java.sql.Connection;
		import java.sql.DriverManager;
		import java.sql.SQLException;
	
		/**
		 * @author sxwang
		 * 11 07 15:02
		 */
		public class dbutils {
	
	
		    /**
		     * 获取mysql 连接
		     * @param url
		     * @param user
		     * @param passwd
		     * @return
		     */
		    public static Connection getConnection(String url, String user, String passwd){
	
		        Connection connection=null;
		        try {
		            Class.forName("com.mysql.jdbc.Driver");
		            try {
		                connection = DriverManager.getConnection(url, user, passwd);
		            } catch (SQLException e) {
		                e.printStackTrace();
		            }
		        } catch (ClassNotFoundException e) {
		            e.printStackTrace();
		        }
		        return connection;
		    }
	
		    /**
		     * 关闭连接
		     * @param conn
		     */
		    public static void closeConnection(Connection conn){
	
		        if(conn !=null){
		            try {
		                conn.close();
		            } catch (SQLException e) {
		                e.printStackTrace();
		            }
		        }
		    }
	
		}

```

## Mysql对表的操作

- alter table 旧表名 rename to 新表名 ： 更改表名字
- alter table 表名 modify 列名 数据类型 ： 修改数据类型
- alter table 表名 change 旧表名 新列名 数据类型 ： 修改列名
- alter table 表名 drop 列名 ： 删除列
- alter table 表名 add 新列名 数据类型
- alter table 表名 modify 列名1 数据类型 after 列名2；
- alter table 表明 modify 列名1 数据类型 first
- 清空表
- 建议
- truncate table xxx

```

		insert into xxx
		select xxx from xxx
```

- create

```

create table ...like xxxx
create table xxx like mmm

```

- 基于xxx表创建新表
- 但是，是空表

```

		create table ..[as]select xxxx from kkk
		create table emp_dev01 as select ename,job
		from emp


```

- 基于其select的表给生成一个表
- 叫ctas
- 可以用别名该表头
