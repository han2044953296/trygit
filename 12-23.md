---
title: scala
date: 12-23 8.40
categories: æ—¥å¿—
comments: "true"
tag: scala
---
# ç®€ä»‹

Scalaæ˜¯ä¸€é—¨å¤šèŒƒå¼çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¸€ç§ç±»ä¼¼[java](https://baike.baidu.com/item/java/85979?fromModule=lemma_inlink)çš„ç¼–ç¨‹è¯­è¨€,è®¾è®¡åˆè¡·æ˜¯å®ç°å¯ä¼¸ç¼©çš„è¯­è¨€,å¹¶é›†æˆ[é¢å‘å¯¹è±¡ç¼–ç¨‹](https://baike.baidu.com/item/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B?fromModule=lemma_inlink)å’Œ[å‡½æ•°å¼ç¼–ç¨‹](https://baike.baidu.com/item/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B?fromModule=lemma_inlink)çš„å„ç§ç‰¹æ€§ã€‚

å®˜ç½‘ ï¼š `www.scala-lang.org`

scala æ˜¯è¿è¡Œåœ¨jvmä¸Šçš„ ï¼Œæ‰€ä»¥scalaæ˜¯å¯ä»¥å…¼å®¹javaçš„

scalaäº§ç”Ÿ ï¼š åŸºäºjavaè¿›è¡Œå¼€å‘è€Œæ¥çš„

scalaå®‰è£…å‰æ ï¼š jdk

è¿è¡Œ ï¼š ä¹Ÿéœ€è¦ç”Ÿæˆå­—èŠ‚ç æ–‡ä»¶ å¦‚ä½•å†è¿è¡Œ

å¼€å‘ ï¼š scala çš„å‘æ˜è€… martin ç¼–è¯‘å™¨çˆ±å¥½è€…

ä¸¤ä¸ªè¯­è¨€ ï¼š pizza å’Œ scala

java ï¼š java 1.5 ï¼š åŠ äº†æ³›å‹ ï¼Œå¢å¼ºfor ï¼Œè‡ªåŠ¨ç±»å‹è½¬æ¢ä»¥åŠåŒ…è£…ç±» =ã€‹ åŸºäº pizza

java 1.8 ï¼š ç±»å‹æ¨æ–­ï¼Œä»¥åŠlambelè¡¨è¾¾å¼ =ã€‹ åŸºäºscala åŠ è¿›å»çš„

# ä¸ºä»€ä¹ˆè¦å­¦ä¹ scala

é¦–è¦åŸå› æ˜¯å› ä¸ºä¸€ä¸ªæ¡†æ¶ Spark  ï¼š å…¶åº•å±‚å°±æ˜¯scalaå¼€å‘çš„

Spark ï¼šæ”¯æŒå¾ˆå¤šçš„è¯­è¨€ java ï¼Œpy ç­‰

flinkï¼šåº•å±‚æ˜¯java+scala =ã€‹ æ‰€ä»¥å®ƒå¯ä»¥æ”¯æŒjavaç¼–ç¨‹ï¼Œä¹Ÿå¯ä»¥ç”¨javaç¼–ç¨‹ ï¼Œä¹Ÿæ”¯æŒäº†py =ã€‹ ç°åœ¨ä¸»æµç”¨java

å¼€å‘æ•ˆç‡é«˜ä¸”ç®€å•å®¹æ˜“

scala å’Œ Java çš„ä»£ç å¯ä»¥ç›¸äº’è°ƒç”¨

åœ¨sparké‡Œå¯ä»¥ï¼Œä½†æ˜¯ä¼šæ¯”è¾ƒå¥‡æ€ª

# scalaéƒ¨ç½²

## ç‰ˆæœ¬é€‰æ‹©

3.x

2.x

ä¾èµ–äºsparkæ¥å†³å®šçš„ ï¼š å¯¹äºspark 3.0çš„æ—¶å€™å·²ç»ç§»é™¤äº†Scala 2.11ç‰ˆæœ¬

spark 3.x:scala 2.12/2.13

spark 2.x: scala 2.11/2.12

æˆ‘ä»¬çš„sparkç”¨çš„æ˜¯3.xç‰ˆæœ¬ ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨çš„æ˜¯scala 2.12.14

å› ä¸ºsparkåº•å±‚ç”¨çš„å°±æ˜¯è¿™ä¸ªç‰ˆæœ¬çš„

## å®‰è£…éƒ¨ç½²

win ï¼š å®‰è£… scala =ã€‹ ideaé‡Œå®‰è£… scala æ’ä»¶

linux ï¼š å®‰è£… scala =ã€‹ ç›®çš„=> è°ƒè¯•è‡ªå·±å¼€å‘çš„ä»£ç   =ã€‹ å’Œspark å®Œå…¨æ— å…³ç³»

winå®‰è£…ï¼š è§£å‹ -ã€‹ é…ç½®ç¯å¢ƒå˜é‡

linux ï¼š è§£å‹-ã€‹è½¯è¿æ¥ -ã€‹ é…ç½®ç¯å¢ƒå˜é‡

è¾“å…¥scalaä¹‹åè¿›å…¥åˆ°äº¤äº’å¼ç•Œé¢

ç»“æœå¦‚ä¸‹

```
scala> 1+2
res0: Int = 3

```

è¯´æ˜æˆ‘ä»¬ç»“æœæ•°æ®çš„ç±»å‹åœ¨scalaé‡Œæ˜¯å¯ä»¥æ¨æ–­å‡ºæ¥çš„ ï¼Œå‰é¢çš„æˆ‘res0æ˜¯å˜é‡çš„åå­—

åœ¨ideaé‡Œå®‰è£…scalaçš„æ’ä»¶ ï¼š æ‰“å¼€idea -ã€‹ file -ã€‹ setting -ã€‹ ä¸Šæ–¹æœç´¢æ ç›® è¾“å…¥ Plugin -ã€‹ ç‚¹å‡» Marketplace æœç´¢ Scala å¦‚ä½•å®‰è£…ç¬¬ä¸€ä¸ªæ’ä»¶ ï¼Œå®‰è£…å®Œæˆä¹‹åé‡å¯ideaå³å¯ï¼Œé‡å¯ä¹‹åç‚¹å‡»file -ã€‹ Prtoject Structure -ã€‹ ç‚¹å‡» -ã€‹ global libraries ç‚¹å‡»ä¸Šé¢çš„åŠ å· ç„¶åç‚¹å‡» Brower ç„¶åé€‰ä¸­è‡ªå·±çš„scalaçš„ç›®å½• -ã€‹ æ·»åŠ æˆåŠŸåº”ç”¨å°±okäº† -ã€‹ æˆ‘ä»¬éªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯å¥½ç”¨-ã€‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ -ã€‹make dir as root -ã€‹ åˆ›å»ºexample ç±» -ã€‹ åˆ›å»º test.scala ->åœ¨pomæ–‡ä»¶ä¸­æ·»åŠ ä¾èµ–-ã€‹ è¿›å…¥ä¹‹åï¼Œåˆ›å»º å¦‚ä¸‹ä»£ç 

```
package example.test

object scala {
  def main(args: Array[String]): Unit = {
    printf("æ’’æ›´ä½•å†µçš„å®¢æˆ·æ‰“");
    printf("sadkakhjd")
  }
}

------------------------pom
    <dependency>
      <groupId>org.scala-lang</groupId>
      <artifactId>scala-library</artifactId>
      <version>2.12.14</version>
    </dependency>

```

æ‰§è¡Œçœ‹çœ‹æˆåŠŸ

æˆåŠŸå¦‚ä¸‹

```
æ’’æ›´ä½•å†µçš„å®¢æˆ·æ‰“sadkakhjd
Process finished with exit code 0
```

mavenåœ°å€ï¼š

# åŸºæœ¬è¯­æ³•

## å€¼ä¸å˜é‡

java ï¼š

* æ•°æ®ç±»å‹ å˜é‡å=å€¼
* Int num=å€¼
* final å€¼ ï¼š å®šä¹‰å¸¸é‡

scala

* val å£°æ˜ä¹‹å ä¸å¯æ”¹å˜ =ã€‹ final
* var å£°æ˜ä¹‹å å¯ä»¥æ”¹å˜

### å£°æ˜å˜é‡å’Œå€¼

var å˜é‡å ï¼šæ•°æ®ç±»å‹ = å€¼

val å˜é‡å : æ•°æ®ç±»å‹ = å€¼

å…¶ä¸­ `val lsdjllsdf= 90`å’Œ `val lsdjllsdf:Int= 90`

æ˜¯ä¸€æ ·çš„å› ä¸ºä»–ä¼šè‡ªå·±è¿›è¡Œç±»å‹æ¨æ–­

åœ¨scalaé‡Œå®šä¹‰äº†ä¸€ä¸ªå˜é‡è¦åˆå§‹åŒ–çš„ ï¼š æ˜¾ç¤ºåˆå§‹åŒ–

åœ¨scalaè™½ç„¶ä¸æ”¯æŒéšå¼åˆå§‹åŒ–ï¼Œä¸è¿‡å¯ä»¥é€šè¿‡å ä½ç¬¦è¾¾åˆ°è¿™ä¸ªç›®çš„ `var name:String=_`ä»…ä»…æ˜¯ç¼–è¯‘ä¸æŠ¥é”™ï¼Œä½†æ˜¯è¿è¡Œå°±ä¼šæŠ¥é”™äº†

æ³¨æ„ï¼šå ä½ç¬¦è¿™ç§æ–¹å¼ä¸€å®šè¦æ˜ç¡®æ˜¯ä»€ä¹ˆç±»å‹

ä¸€èˆ¬ç”¨äºå®šä¹‰ç±»é‡Œçš„å±æ€§ï¼Œä¸çŸ¥é“æ”¹æ€ä¹ˆèµ‹å€¼çš„æ—¶å€™çš„ä½¿ç”¨çš„

### æ•°æ®ç±»å‹

scalaé‡Œæ²¡æœ‰åŒ…è£…ç±»

* String
* Int
* Long
* Float
* Double
* Boolean
* Char
* Unit
* Short
* Byte
* List
* Option
* Yourclass
* æ•°æ®ç±»å‹è½¬æ¢ä¸åˆ¤æ–­
  * åœ¨scalaé‡Œæœ€é¡¶å±‚çš„æ˜¯any -ã€‹ object
  * å…¶ä¸‹æœ‰Anyval å’Œ AnyRef
    * Anyval
      * Unit ï¼š => void å°±æ˜¯è¿”å›å€¼æ˜¯ä¸ºç©º
      * å…¶ä½™å’Œjavaéƒ½ä¸€æ ·
      * ä¸ºç©ºåˆ™æ˜¯nothing
    * AnyRef
      * Stringåœ¨å¼•ç”¨é‡Œ
      * List
      * Option
      * Yourclass
      * å¦‚æœä¸ºç©ºåˆ™ä¸ºnull
  * æœ€åº•å±‚æ˜¯nothing åŒ…æ‹¬nullçš„åº•å±‚ä¹Ÿæ˜¯nothing

è½¬æ¢ä»£ç å¦‚ä¸‹

```
    val lsdjllsdf:Int= 90
    val num1:Int = 10
    val num2:Double = 10.111
    val num3=num2.asInstanceOf[Int]
    val num4=num2.toInt
    println(num1)
    println(num2)
    println(num3)
    println(num4)
```

æ³¨æ„scalaé‡Œä¸èƒ½æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆIntï¼ˆè¿™é‡Œçš„å­—ç¬¦ä¸²æ˜¯éæ•°å­—ç±»å‹çš„ï¼‰å°±æ˜¯å¦‚æœæ˜¯11.111ç­‰æ•°å­—ç±»çš„è¿˜æ˜¯å¯ä»¥çš„

æ¯”å¦‚ ï¼š

```
val xiangxiang:String = "ads"
 val num6=xiangxiang.toInt
 println(num6)
```

å°±ä¼šæŠ¥é”™

```
Exception in thread "main" java.lang.NumberFormatException: For input string: "ads"
	at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.lang.Integer.parseInt(Integer.java:580)
	at java.lang.Integer.parseInt(Integer.java:615)
	at scala.collection.immutable.StringLike.toInt(StringLike.scala:304)
	at scala.collection.immutable.StringLike.toInt$(StringLike.scala:304)
	at scala.collection.immutable.StringOps.toInt(StringOps.scala:33)
	at example.test.scala$.main(scala.scala:19)
	at example.test.scala.main(scala.scala)
```

### é›†åˆ

array

Range

List

å¤§ç±»çš„è§’åº¦ä¸Šè®²ï¼š

* Seq
* Set
* Map

æœ€é¡¶å±‚æ˜¯Iterable

* -ã€‹Set
  * HashSet
  * ListSet
  * SorteSet
    * TreeSet
    * BitSet
* -ã€‹Map
  * HashMap
  * SorteMap
    * TreeMap
  * ListMap
* -ã€‹Seq
  * indexSeq
    * Range
    * String
    * Array
    * NumericRange
    * Vector
  * LinearSeq
    * List
    * Stream
    * Queue
    * Stack

å¿«é€Ÿæ„å»ºé›†åˆçš„æ–¹æ³•ï¼š

rangeï¼š

* to ï¼š å·¦é—­å³é—­
* until ï¼š å·¦é—­å³å¼€çš„

scala api æ–¹æ³•

æ–¹æ³•è°ƒç”¨ ï¼š å˜é‡æ‰“ç‚¹è°ƒç”¨æˆ–è€…xxxæŒ‰ä¸€ä¸ªç©ºæ ¼è°ƒç”¨

æµç¨‹æ§åˆ¶ï¼šscalaé‡Œæ²¡ä¸‰ç›®è¿ç®—ç¬¦

* åˆ†æ”¯ç»“æ„ ï¼š
  * if else
  * æ¨¡å¼åŒ¹é…
* å¾ªç¯
  * for
  * while
  * ç®—å­

ä»£ç å¦‚ä¸‹

```
    val Scaoe = 111
    if (Scaoe >= 90){
      println("ç‰›çš®")
    }else if (Scaoe >= 60){
      println("å·®ç‚¹æ„æ€")
    }else if (Scaoe <= 59){
      println("æ¬ æ‰“äº†")
    }
----------------------------------------------------------------------å¾ªç¯
    val ints:Array[Int] = Array(1, 2, 3, 4, 5, 6, 7, 89)
    val iterator = ints.toIterator
    while (iterator.hasNext){
      val item = iterator.next()
      println(item)
    }
      for (item <- ints){
        println(item)
      }
   ints.foreach(println(_))
```

### æ–¹æ³•ä¸å‡½æ•°

æœ€ç®€å•çš„ç†è§£ ï¼š def å®šä¹‰æ–¹æ³•

å‡½æ•°çš„æœ¬è´¨å°±æ˜¯ç‰¹æ®Šçš„æ–¹æ³•

def æ–¹æ³•åå­—ï¼ˆå‚æ•°åå­—ï¼šå‚æ•°ç±»å‹ï¼‰ï¼šè¿”å›å€¼ç±»å‹={æ–¹æ³•ä½“}

ä¾‹å­å¦‚ä¸‹

```
    sum(num1, num3)
    def sum(a1:Int,a2:Int): Unit ={
      val i = a1 + a2
      println(i)
    }
    tery(xiangxiang)
    def tery(fff:String): Unit ={
      println(fff)
    }

```

è¡¥å…… ï¼š æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ä¹Ÿå¯ä»¥ä¸å†™ï¼Œå› ä¸ºå®ƒä¼šè‡ªåŠ¨æ¨æ–­çš„ç±»å‹å’Œvalä¸€æ ·

åé¢çš„unitæ˜¯ä»£è¡¨æ–¹æ³•çš„è¿”å›å€¼ï¼Œå› ä¸ºç»“å°¾æ˜¯printfæ‰€ä»¥è¿”å›å€¼æ˜¯void

å‡½æ•°å°±æ˜¯æŠŠæ–¹æ³•çš„ä¸€äº›ä¸œè¥¿è¿›è¡Œçœç•¥ -ã€‹ æ–¹æ³•å+ å…³é”®å­—

`val ff=(a1:Int,a2:Int)=>( a1 + a2)`

æ–¹æ³•é‡Œçš„å‚æ•°

* é»˜è®¤å‚æ•° ï¼š å¸¸è§„ä¼ å‚="xxx"æ¯”å¦‚ ` def tery(fff:String="default"): Unit ={ println(fff) }`å¦‚æœæœ‰å¤šä¸ªå‚æ•°é»˜è®¤å‚æ•°ä¸å¯ä»¥æ”¾åˆ°ä¸­é—´ï¼Œåªèƒ½æ”¾åœ¨æœ€åä¸€ä¸ªï¼Œä¸ä¼ å°±èµ°é»˜è®¤ï¼Œä¼ äº†å°±èµ°ä¼ çš„å€¼
* å¯å˜å‚æ•° :   * ä¾‹å­ ` def sum(num:Int*):Unit ={print(num.size)}` å¯å˜å‚æ•°ä¸€èˆ¬éƒ½æ”¾åœ¨æœ€åä¸€ä¸ªå˜é‡/ä¼ å…¥ä¸€ä¸ªæ•°ç»„ ` def sum(arr:_*):Unit ={}`

æ³¨æ„ï¼šæ–¹æ³•æ˜¯é¡ºåºçš„ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰è¿‡è¿™ä¸ªæ–¹æ³•çš„æ—¶å€™è°ƒç”¨å®ƒæ˜¯ä¼šæŠ¥é”™çš„

å®ƒå¯ä»¥ä¸å†™è¿”å›å€¼ï¼Œå› ä¸ºå®ƒæœ€åä¸€è¡Œä¼šé»˜è®¤è¢«å½“æˆè¿”å›å€¼

é€’å½’è°ƒç”¨çš„æ—¶å€™ä¸€å®šè¦æŒ‡æ˜è¿”å›å€¼ç±»å‹ï¼Œè¦ä¸ç„¶ä¼šæŠ¥é”™

## ç±»

ç±»é‡Œæœ‰å±æ€§æ–¹æ³•æ„é€ å™¨

classï¼šä»£ç å¦‚ä¸‹

```
package example.test

object t1 {
  def main(args: Array[String]): Unit = {
    val dl226 =new Dl2262
    dl226.name="å­èˆª"
    println(dl226.age)
    println(dl226.name)
    dl226.listening()
  }
  private val hh:Int=100

  class Dl2262{

    private val hs:Int=1
    var name: String = _
    val age:Int=20
    def listening(teacher:String="åŒå–œ") = {
      println("æ•™å¸ˆ" + "\t" + teacher +  "æ­£åœ¨ä¸Šè¯¾" + "\n" +  name + "\t" +  "æ­£åœ¨å¬è¯¾")
    }

  }

}

```

ä¼´ç”Ÿç±»ï¼šclass æ˜¯objectçš„ä¼´ç”Ÿç±» ï¼Œobject æ˜¯classçš„ä¼´ç”Ÿå¯¹è±¡ ï¼šä¼´ç”Ÿç±»æ˜¯ç›¸å½“äºclass ä¼´ç”Ÿæ–¹æ³•æ˜¯ç›¸å½“äºé™æ€æ–¹æ³•

```
object t1 {
  def main(args: Array[String]): Unit = {
    val dd = new A
    dd.f01()
    A.f01()
  }  
class A{
    def f01()={
      println("class ....class A")
    }
  }
  object A{
    def f01()={
      println("Class ......object A")
    }

  }
```

### å¸¸ç”¨çš„æ“ä½œ

applyæ–¹æ³• ï¼š è¿™é‡Œå¾€å¾€ä½¿ç”¨object Aé‡Œçš„applyæ–¹æ³• å» new ä¸€ä¸ªclass A

å¦‚ä¸‹ ï¼š

```
object t1 {
  def main(args: Array[String]): Unit = {
    val dd = new A
    dd.f01()
    A.f01()
 val tets:A = A()
    tets.f01()
  }  
class A{
    def f01()={
      println("class ....class A")
    }
  }
  object A{
    def f01()={
      println("Class ......object A")
    }
	 def apply( ): A = new A()

  }

```

### æ„é€ å™¨

ä¸»æ„é€ å™¨ ï¼š `class ç±»åï¼ˆå‚æ•°åˆ—è¡¨ï¼‰`

å¦‚ä¸‹ ï¼š

```
  class A(name:String , age:Int){
  
    def f01()={
      println("class ....class A" + name + age)
    }
  }
```

æœ‰å‚æ„é€ å™¨ï¼Œå‡ºç°çš„åŒ–æ— å‚æ„é€ å™¨å°±å¤±æ•ˆäº†
é™„å±æ„é€ å™¨ ï¼š `thisï¼ˆï¼‰`æ¯ä¸ªé™„å±æ„é€ å™¨çš„ç¬¬ä¸€è¡Œå¿…é¡»è°ƒç”¨ä¸»æ„é€ å™¨æˆ–è€…å…¶ä»–é™„å±æ„é€ å™¨

```
  class A(name:String , age:Int){
    def this(){
      this(name,age)
    }
    def f01()={
      println("class ....class A" + name + age)
    }
  }
```

### ç»§æ‰¿å®ç°

```
object t1 {
  def main(args: Array[String]): Unit = {

    val b = new B("dakhsk", "asdkajsdhas")
    b.fo2("kdahjakhd")
    println(b.age)
    b.foq("adkshk")

  }


  class jicheng(name:String){
    val age:Int=10
    def foq(parm:String): Unit ={
      println(parm+ age + name)
    }
  }
  class B(name:String , gerner:String) extends jicheng(name){
    def fo2(parm:String): Unit ={
      println(parm+name+gerner)
    }
  }
```

å…ˆè§¦å‘çˆ¶ç±»çš„æ„é€ å™¨ï¼Œç„¶åæ‰æ˜¯å­ç±»çš„

æŠ½è±¡ç±»å®ä¾‹åŒ–ï¼Œåªèƒ½é€šè¿‡å­ç±»ç»§æ‰¿çš„æ–¹å¼å®ç°å¦‚ä¸‹

```
  abstract class Pression{
    def a
    def b
    def c
    var name:String
  }
  class c extends Pression{
    override def a: Unit = {

    }

    override def b: Unit = {

    }

    override def c: Unit = {

    }

    override var name: String = _
  }
  
```

ç‰¹å¾ï¼šæ¥å£

åˆ›å»ºä¸€ä¸ªTrait å°±æ˜¯ç‰¹å¾ ï¼Œç„¶åå­ç±»å»ç»§æ‰¿å®ƒ ï¼Œä¸ä¸€å®šè¦å…¨éƒ¨å®ç°ï¼Œç»§æ‰¿éƒ½ç”¨extendså…³é”®å­—

ä½†æ˜¯è¿™é‡Œä¸èƒ½å¤šç»§æ‰¿

scalaé›†åˆåŒ… ï¼šscala.collection

* å¯å˜
* ä¸å¯å˜

ä¸»è¦æ˜¯é’ˆå¯¹é•¿åº¦

array ï¼š

* å¯å˜ï¼šå˜é•¿æ•°ç»„
* ä¸å¯å˜ï¼šå®šé•¿æ•°ç»„
  * arrayï¼š
    * new `val arr=new Array[String](3)`
      * æ·»åŠ å…ƒç´  `arr(0)="zahngsan"`
      * æŸ¥çœ‹æ•°ç»„é•¿åº¦ `arr.length`
    * ä¸new `val arr2 = Array("1" ,1 ,'1')æˆ–è€…æŒ‡å®šç±»å‹`

æ•°ç»„çš„éå†

```
    val Arr = new Array[String](4)

    for (elem <- Arr) {
      println(elem)
    }
  // è¿™ä¸ªby å°±æ˜¯è®¾ç½®æ­¥é•¿ï¼Œå°±æ˜¯æ¯æ¬¡è¿è¡Œä¹‹åæ˜¯åŠ å¤šå°‘ï¼Œè¿˜æ˜¯å‡å¤šå°‘
    for (i <- 0 until(Arr.length) by 1){
      println(Arr(i))
    }
  
    Arr.foreach(println(_))
```

æ•°ç»„api

* åè½¬ ï¼š `Arr.reverse`ä¼šæ–°ç”Ÿæˆä¸€ä¸ªæ•°ç»„
* ä¸¤ä¸ªæ•°ç»„ç›¸åŠ  ï¼š `Arr ++ arr`
* æ±‚å’Œï¼Œæœ€å¤§æœ€å°ç­‰ `Arr.max/min/sum`
* æŠŠæ•°ç»„å†…çš„å…ƒç´ è½¬æ¢æˆå­—ç¬¦ä¸²çš„æ–¹å¼è¿›è¡Œè¾“å‡º `Arr.mkString`ä¼šæŠŠæ•°ç»„çš„å…ƒç´ è¿›è¡Œæ‹¼æ¥å¹¶ä¼šå˜æˆString
  * å‚æ•° ï¼š mkStringï¼ˆå¼€å§‹çš„çš„ç¬¦å· ï¼Œåˆ†éš”ç¬¦ ï¼Œç»“æŸçš„ç¬¦å·ï¼‰

å˜é•¿æ•°ç»„

* ArrayBuffer ï¼šå…ˆå¯¼åŒ… ï¼šimport scala.collection.mutable.ArrayBuffer
  * æ·»åŠ å…ƒç´  ï¼š `a +=1 `
  * æ·»åŠ æ•°ç»„ ï¼š `a ++=Arr`
* api
  * æ’å…¥æ•°æ® ï¼š `a.insert(2,3,43,45,5,6)`ä»£è¡¨ä»ç¬¬äºŒä¸ªä½ç½®æ¥æ’å…¥åé¢çš„æ•°ç»„
  * ç§»é™¤æ•°æ® ï¼š `a.remove(0,3)`ä»ä¸‹è¡¨0å¼€å§‹ç§»é™¤ä¸‰ä¸ªå…ƒç´ 

é«˜é˜¶å‡½æ•°ï¼šscalaé‡Œçš„é«˜çº§çš„api é‡è¦çš„å’Œspark core æ¯”è¾ƒç±»ä¼¼

å¿…é¡»å­¦æ˜ç™½

å‡½æ•° ï¼šFunction æ ¼å¼ ï¼š`var/val åå­— = (å‚æ•°åˆ—è¡¨) => å‡½æ•°ä½“`å¦‚æœå‡½æ•°ä½“å†…åªæœ‰ä¸€è¡Œä»£ç ï¼Œæ˜¯å¯ä»¥çœç•¥å¤§æ‹¬å·çš„

è°ƒç”¨ï¼š `åå­—(å‚æ•°)`å…³äºå‡½æ•°çš„ç±»å‹ æ˜¯ `(å…¥å‚ç±»å‹ï¼Œæœ‰å‡ ä¸ªå‚æ•°å°±æœ‰å‡ ä¸ª)=>è¿”å›å€¼ç±»å‹`

å‡½æ•°æ˜¯ç‰¹æ®Šçš„æ–¹æ³•

scalaé‡Œæ˜¯å¯ä»¥æ–¹æ³•å¥—æ–¹æ³•çš„

ç›¸äº’è½¬åŒ– ï¼š

hello æ–¹æ³• å¯ä»¥é€šè¿‡ hello_å˜æˆå‡½æ•°

æ–¹æ³•é‡Œä¹Ÿå¯ä»¥åµŒå¥—å‡½æ•° ï¼š å°±æ˜¯é«˜é˜¶å‡½æ•°

ä¾‹å­ ï¼š

```
val a = () => println("dl2262....")
val b = (x:Int , y:Int) => {x+y}
def foo(f:()=>Unit)={
f()
}
foo(a)
è¿˜å¯ä»¥è¿™ä¹ˆä¼ 
foo(() => println("scalaå‰å®³"))
-----------------------------------------é«˜é˜¶å‡½æ•°

def test05()={
def cal(a:Int,b:Int,op:(Int,Int)=>Int)={
op(a,b)
}
}
println(cal(10,20,(x:Int,y:Int)=>x+y))
println(cal(10,20,(x,y)=>x+y))
println(cal(10,20,_+_))
```

### map

mapæ˜¯ä¸€ä¸€æ˜ å°„çš„

æ¯”å¦‚ ï¼š f:a=>b ç±»ä¼¼ y=fï¼ˆxï¼‰

ä¾‹å­ ï¼šæ•°ç»„æˆ2

```
val arr = Array(1,2,3,4,5,6,7)
arr.map((x:Int)=>x*2)
ç®€å†™ 
arr.map((x)=>x*2)
arr.map(x=>x*2) //ä¼ å…¥å‚æ•°åªæœ‰ä¸€ä¸ªï¼Œæ‹¬å·å¯ä»¥çœç•¥
arr.map(_*2) // å‰ååªå‡ºç°ä¸€æ¬¡xï¼Œå°±æ˜¯æ‰§è¡Œæ–¹æ³•é‡Œï¼Œå¯ä»¥ç”¨_ä»£æ›¿
```

ä¾‹å­ï¼š

æŠŠæ•°ç»„ä¸­çš„ ` var arr1 = Array("Flink" , "zihan")`å˜æˆå°å†™

æ‰§è¡Œ `arr1.map(_.toLowerCase)`å°±okäº†

è¡¥å……æ•°æ®ç±»å‹ ï¼štupleå…ƒç»„ ï¼š å®šä¹‰æ–¹å¼ ï¼š ` private val tuple: (Int, Int, Int) = (1, 2, 3)`

å…ƒç´ ä¸‹æ ‡ä»1å¼€å§‹å–ç”¨ `åç§°._num`å–å€¼

### foreach

mapæœ€å¥½ä¸è¦è¿›è¡Œæ‰“å°ï¼Œå› ä¸ºmapä¼šåˆ¶é€ ä¸€ä¸ªç»“æœé›†ï¼Œæ‹¬å·é‡Œé¢é€Ÿåº¦Unitçš„

### filter

æœ‰è¿”å›å€¼ã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªAnyçš„é›†åˆï¼Œè¿‡æ»¤ï¼Œæ‹¬å·å†…æ”¾å¸ƒå°”ç±»å‹çš„å€¼

```
val arr1 = List(1,2,3,4,5,6,7,78)
scala> arr1.filter(_%2!=1).filter(_>3)
res9: List[Int] = List(4, 6, 78)
```

### flatMap

å’Œmapçš„åŒºåˆ«ï¼šé¦–å…ˆ FlatMapä¼šæ‰“ç ´åŸæ¥çš„æ•°æ®ç»“æ„ ï¼Œmapä¸ä¼š

å¯¹æ¯”ç»“æœå¦‚ä¸‹

```
scala> val arr3 = Array(Array(1,2),Array(3,4),Array(5,6))
arr3: Array[Array[Int]] = Array(Array(1, 2), Array(3, 4), Array(5, 6))

scala> arr3.map(x => x.map(_*2))
res20: Array[Array[Int]] = Array(Array(2, 4), Array(6, 8), Array(10, 12))

scala> arr3.flatMap(x=>x.map(_*2))
res21: Array[Int] = Array(2, 4, 6, 8, 10, 12)

scala> 
```

### flatten

æŠŠæ•°ç»„æ‰“å¹³å°±æ˜¯æ‹†æ•£ï¼Œä½¿ç”¨æ–¹æ³• `arr.flatten`

### reduce

è§„çº¦çš„ï¼šæŠŠæŒ‡å®šçš„ä¸šåŠ¡é€»è¾‘ä½œç”¨ä¸¤ä¸¤çš„æ•°æ®ä¸Š

å…ˆå¯¹å…ƒç´ ä¸€å’Œå…ƒç´ äºŒè¿›è¡Œæ“ä½œï¼Œå†æŠŠç»“æœå’Œå…ƒç´ ä¸‰è¿›è¡Œæ“ä½œï¼Œä»¥æ­¤ç±»æ¨

ä¾‹å­å¦‚ä¸‹

```
scala> val arrr = Array(1,2,3,4,5,6,7,8,89,99)
arrr: Array[Int] = Array(1, 2, 3, 4, 5, 6, 7, 8, 89, 99)

scala> arrr.reduce((x,y)=>x+y)
res24: Int = 224

scala> arrr.reduce((x,y)=>{
   println(x,y)
   x+y
 })
     |      |      | (1,2)
(3,3)
(6,4)
(10,5)
(15,6)
(21,7)
(28,8)
(36,89)
(125,99)
res25: Int = 224

scala> 
```

reduceç®—å­é»˜è®¤åº•å±‚èµ°çš„æ˜¯reduceleft ï¼Œä½†æ˜¯ç›¸åº”çš„ä¹Ÿä¼šæœ‰ä»å³é¢çš„

å¦‚ä¸‹

```
scala> arrr.reduceRight((x,y)=>{
   println(x,y)
   x+y
 })
     |      |      | (89,99)
(8,188)
(7,196)
(6,203)
(5,209)
(4,214)
(3,218)
(2,221)
(1,223)
res26: Int = 224

scala> 
```

### groupBy

ç”¨äºåˆ†ç»„ï¼šè‡ªå®šä¹‰åˆ†ç»„ ï¼Œå’Œsqlé‡Œçš„group by æœ‰ç‚¹ç±»ä¼¼ ï¼Œ

```
scala> val arr6 = Array(("a",100),("b",20),("c",15),("d",100))
arr6: Array[(String, Int)] = Array((a,100), (b,20), (c,15), (d,100))

scala> arr6.groupBy(_._1)
res27: scala.collection.immutable.Map[String,Array[(String, Int)]] = Map(a -> Array((a,100)), b -> Array((b,20)), c -> Array((c,15)), d -> Array((d,100)))
```

### MapValues

ä¹Ÿæ˜¯ä¸€ä¸€æ˜ å°„ ï¼š ä½†æ˜¯mapçš„ä½œç”¨æ˜¯ä½œç”¨åœ¨valuesä¸Šçš„ï¼Œé¦–å…ˆæ•°æ®å¿…é¡»æ˜¯kvçš„ï¼Œmapé”®å€¼å¯¹/tuple2

è¡¥å……map(k->v):ä¸€å¯¹ä¸€å¯¹çš„ `val a = Map("a" -> 24,"b"->33)`

å°±æ˜¯å•ç‹¬å–å‡ºå…¶ä¸­çš„valuesï¼Œå¦‚ä¸‹

```
    val arr6 = Array(("a",100),("b",20),("c",15),("d",100))
    arr6.groupBy(_._1).mapValues(_.map(_._2).sum)
```

### sortby

```
    val arr7 = Array(1,2,3,4,5,5,3,2,1,6)
    arr7.sortBy(x => x)
    arr7.sortBy(x => -x)
```

è‡ªåŠ¨æ’åºï¼Œå‡åºä¸åŠ è´Ÿå·ï¼ŒåŠ äº†å°±æ˜¯é™åº

### å®ç°wordcount

```
object Test{
  def main( args:Array[String]): Unit ={
    var lines = Array("wo men shi hao hai zi","wo jiao liu shen","what's your name")
    var words = Array("Hello world","Hello scala","Hello bigdata");

    /*1.ä¸ºä»€ä¹ˆè¿™é‡Œä½¿ç”¨ç©ºæ ¼å°±å¯ä»¥å°†æ•°ç»„linesåˆ†å¼€ï¼Ÿ
    2.è¿™é‡Œçš„map(_.split(" "))å¯ä»¥è¿™ä¹ˆç†è§£ï¼Œ_.split(" ")ä¸­çš„_å¯ä»¥ç†è§£æˆ"wo men shi hao hai zi","wo jiao liu shen","what's your name"ä¸­æ¯ä¸ª
    å†’å·çš„å†…å®¹ï¼Œç„¶åå°†æ¯ä¸ªå†’å·çš„å†…å®¹ç”¨ç©ºæ ¼åˆ†å‰²ã€‚
     */
    var result1 = words.map(_.split(" "))

    /*
    1.å°†è¿™ä¸ªresult1å‹å¹³ï¼Œå‹å¹³çš„æ„æ€å°±æ˜¯å°†å¤šä¸ªArrayæ•°ç»„å‹æˆä¸€ä¸ªArrayæ•°ç»„
     */
    var result2 = result1.flatten

    /*
    1.å°†result2ä¸­çš„æ¯ä¸ªå…ƒç´ æ‹¿å‡ºæ¥å’Œ1å½¢æˆmapå…ƒç»„
     */
    var result3 = result2.map((_,1))

    /*
    1.é€šè¿‡æ¯ä¸ªå…ƒç»„çš„ç¬¬ä¸€ä¸ªå€¼æ¥åˆ†ç»„
    2.è¿™é‡Œçš„åˆ†ç»„æ–¹æ³•å› Scala/Sparkç­‰ç¼–ç¨‹è¯­è¨€çš„ä¸åŒè€Œä¸åŒ
    3.åœ¨scalaä¸­æ˜¯groupByï¼Œä½†æ˜¯åœ¨sparkä¸­å°±æ˜¯reduceByKey
    4.è¿™é‡Œé¢çš„result4ä¸­çš„æ¯ä¸ªå…ƒç´   éƒ½æ˜¯ä¸€ä¸ªå…ƒç»„
     */
    var result4 = result3.groupBy((_._1))

    /*
    1.è¿™é‡Œçš„t._1ä¸­çš„tæŒ‡çš„æ˜¯å…ƒç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œt._1æŒ‡çš„æ˜¯å…ƒç»„ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç¬¬ä¸€éƒ¨åˆ†
     */
    var result5 = result4.map(t =>(t._1,t._2.length))//å”¯ä¸€ä¸æ˜ç™½çš„åœ°æ–¹

    /*
    1.å°†å¾—åˆ°çš„mapè½¬æ¢æˆlistï¼Œç„¶åå°†listæŒ‰ç…§å…ƒç»„çš„ç¬¬äºŒéƒ¨åˆ†æ¥é™åºæ’åº
     */
    var result6 = result5.toList.sortBy(_._2).reverse

    println(result6);
    /**
     * 1.flatMap()æ˜¯é€šè¿‡åˆ‡åˆ†å¼€å†å‹å¹³  åˆ‡åˆ†æ˜¯é€šè¿‡.split(" ")æ–¹æ³•
     * 2.map()æ–¹æ³•æ˜¯åˆ‡åˆ†  map((_,1))æ˜¯å½¢æˆmapåºåˆ— æ¯ä¸ªåºåˆ—çš„valueéƒ½æ˜¯1
     * 3.groupBy()æ–¹æ³•åˆ†ç»„ groupBy((_._1))æ˜¯é€šè¿‡æ¯ä¸ªå…ƒç»„çš„ç¬¬ä¸€ä¸ªå€¼æ¥åˆ†ç»„
     * 4.toList()æ–¹æ³•æ˜¯è½¬åŒ–æˆListåºåˆ—  å› ä¸ºmapæ˜¯ä¸æ”¯æŒæ’åºçš„ï¼Œæ‰€ä»¥ä½¿ç”¨List
     * 5.sortBy()æ–¹æ³•æ˜¯æ’åºæ–¹æ³•  sortBy(_._2)æ˜¯é€šè¿‡å…ƒç»„çš„ç¬¬äºŒä¸ªå…ƒç´ æ¥æ’åº
     * 6.reverse()æ–¹æ³•æ˜¯å€’è½¬   å°†æ’åºçš„ç»“æœé™åºæ’åˆ—
     * */
  }
}

----------------------------------------ä¸Šé¢æ˜¯ç½‘ä¸Šçš„-------------------------------------------
----------------------------------------ä¸‹é¢æ˜¯æˆ‘ä»¬è‡ªå·±å†™çš„-------------------------------------
worcountSource.map(_.split(",")).flatten.map((_,1)).groupBy(_._1).map((x=>(x._1,x._2.length))).toArray.sortBy(_._2) // ç¬¬ä¸€ç‰ˆ
ç„¶åè¿›è¡Œä¼˜åŒ– ï¼Œ ä¸Šè¿°æŠŠå­—ç¬¦ä¸²ç‚¸å¼€çš„æ—¶å€™ï¼Œ.spliteå’Œ.flatten =ã€‹æ›¿æ¢æˆflatMap
mapValues =ã€‹å¯ä»¥æ›¿æ¢åé¢è¿›è¡Œæ•°æ®ç»Ÿè®¡çš„æƒ…å†µ
worcountSource.flatMap(_.split(",")).map((_,1)).groupBy(_._1).mapValues(_.map(_._2).sum).toArray.sortBy(x=> -x._2) // ç¬¬äºŒç‰ˆ
```

### å­—ç¬¦ä¸²æ’å€¼ï¼š

shell ,python , scala éƒ½æœ‰

```
scala> val hello:String = "hello"
 val str:String = hello + "scala"
hello: String = hello

scala> str: String = helloscala

scala> print(s"xxx_$str")
xxx_helloscala
scala> 
```

### å¤šè¡Œå­—ç¬¦ä¸²

`val mes = """ sdhaskdj"""`

å°±æ˜¯ä¸‰æ¬¡"",å…¶ä¸­å¤šè¡Œçš„å­—ç¬¦ä¸²æ¯è¡Œä¹‹é—´åŠ ä¸Šï¼Œå°±å¯ä»¥

## é›†åˆ

### List ï¼šå’ŒArrayç±»ä¼¼

* é•¿åº¦ä¸å¯å˜ list
* é•¿åº¦å¯å˜ listBuffer

Nil æ˜¯ä¸å¯å˜çš„sizeä¸º0çš„List

æ·»åŠ å…ƒç´  ï¼š`::è¿½åŠ å…ƒç´  `è¿™æ ·æ˜¯æ–°ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä¸æ˜¯å†åŸæ¥çš„æ•°ç»„ä¸Šæ·»åŠ çš„

* `val a = 1::Nil`
* `li ++ List(1,2,3,4)`

å–å€¼ ï¼šæ ¹æ®ä¸‹æ ‡æ¥å–

api ï¼š

* headï¼šå–å‡ºListçš„ç¬¬ä¸€ä¸ªå…ƒç´ 
* tailï¼šå–å‡ºListçš„éç¬¬ä¸€ä¸ªçš„æ‰€æœ‰å…ƒç´ 

éœ€æ±‚ ï¼šä½¿ç”¨scalaæ±‚å’Œçš„æ–¹æ³•

```
    def sum(nums:Int*):Int={
      if (nums.length==0){
        0
      }else {
        nums.head+sum(nums.tail:_*)
      }
  
```

åˆ›å»º å¯å˜çš„bufferï¼š

```
val a = ListBuffer[Int]()
//æ·»åŠ å…ƒç´ 
a+=2
a+=(2,3,4,5)
a++=List(1,2,3,4)
```

### set

åˆ›å»º ï¼š`val a = Set`

æ— åºä¸å¯é‡å¤çš„

```
scala> val hh = Set(111,1,1,1,1,1,2,2,3,545)
hh: scala.collection.immutable.Set[Int] = Set(1, 2, 545, 3, 111)
```

### Map

åˆ›å»º ï¼š`val a = Map ("zs"->123,"lisi"->22)`

* å¯å˜ ï¼šå¯ä»¥é‡æ–°è¿›è¡Œèµ‹å€¼
* ä¸å¯å˜ ï¼šä¸å¯ä»¥é‡æ–°èµ‹å€¼ ï¼šé»˜è®¤æ˜¯ä¸å¯å˜ åˆ›å»ºçš„æ—¶å€™ç”¨å¯å˜map `val a =  scala.collection.mutable.Map()`

å–å€¼ ï¼š

* a(zs) :é€šè¿‡keyæ¥å–å€¼
* a.get("zs"):apiå–å€¼æ–¹æ³•ï¼ŒæŸ¥çœ‹è¿™ä¸ªmapé‡Œçš„keyï¼Œæœ‰åˆ™å–å‡ºï¼Œæ— åˆ™æ˜¯null
* a.getOrElseï¼ˆ"zs","é»˜è®¤å€¼"ï¼‰ï¼šå–åˆ°å°±æ˜¯mapé‡Œçš„ï¼Œå–ä¸åˆ°å°±æ˜¯é»˜è®¤

æ›´æ”¹ ï¼šé’ˆå¯¹å¯å˜map

* a("zs")=18
* a.get("zs")=18
* ç­‰ç­‰

æ·»åŠ å…ƒç´  ï¼šå’Œä¸Šé¢Listå’ŒArrayæ˜¯ä¸€æ ·çš„ `a += (("zss" , 11))`æˆ–è€… `a += ("fff"->111)`æˆ–è€…å…¶ä»–çš„æ–¹å¼ï¼Œä¸æ­¢è¿™äº›

```
scala> val t1 =  scala.collection.mutable.Map[String,String]()
t1: scala.collection.mutable.Map[String,String] = Map()

scala> t1 += ("ss" -> "sdlaks")
res54: t1.type = Map(ss -> sdlaks)

scala> t1
res55: scala.collection.mutable.Map[String,String] = Map(ss -> sdlaks)

scala> t1("ss")
res56: String = sdlaks

scala> t1.get("ss")
res57: Option[String] = Some(sdlaks)

scala> t1("ss")="1111"

scala> t1
res59: scala.collection.mutable.Map[String,String] = Map(ss -> 1111)

scala> t1.getOrElse("ss","nihao")
res60: String = 1111

scala> t1.getOrElse("ss1","nihao")
res61: String = nihao

```

## case class

å’Œæ™®é€šçš„classçš„åŒºåˆ«

ä»¥åç”¨æ ·ä¾‹ç±»åå¤š ï¼Œ case class ä¸ç”¨new

case class é»˜è®¤å®ç°äº†åºåˆ—åŒ– ï¼šé‡è¦

case class åº•å±‚é‡å†™äº†ï¼ŒtoString ï¼Œequals , hashcode

```
case class Dog(name:String){
  def fo1(name:String): Unit ={
    print(name)
  }
}


-----------------------------------------ä¸»æ–¹æ³•----------------
    val dog = Dog("æ—ºè´¢")
    dog.fo1("daksjhakl")



----------------------------------------------------------------------
scala> case class Dog(name:String){
   def fo1(name:String): Unit ={
     print(name)
   }
 }
     |      |      |      | defined class Dog

scala> import example.test.Dog
 
 val dog = Dog("æ—ºè´¢")
 
 val dog = Dog("æ—ºè´¢")
<console>:11: error: object Dog is not a member of package example.test
       import example.test.Dog
              ^

scala> 
scala> dog: Dog = Dog(ï¿½ï¿½ï¿½ï¿½)

scala> 
scala> dog: Dog = Dog(ï¿½ï¿½ï¿½ï¿½)

scala> val dog1 = Dog("æ—ºè´¢")
dog1: Dog = Dog(ï¿½ï¿½ï¿½ï¿½)

scala> dog == dog1
res87: Boolean = true

scala> print(dog)
Dog(ï¿½ï¿½ï¿½ï¿½)
scala> 

```

## æ¨¡å¼åŒ¹é…

ç±»ä¼¼javaä¸­çš„switch case

åŒ¹é…çš„å†…å®¹

* åŒ¹é…å†…å®¹
  * `xxx.match{case xxx => xxxx case yyy => yyy case_ => xxxx}`ç­‰
* åŒ¹é…ç±»å‹
  * `xxx.match{case x:Int => xxxx case y:String =>yyy case_ => zzzz}`
* åŒ¹é…é›†åˆ
  * `xxx.match{case x::y::Nil => println("é›†åˆä¸­åªæœ‰ä¸¤ä¸ªå…ƒç´ " case "zihang"::Nil => println(é›†åˆä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ å°±æ˜¯å­èˆª)) case_ => println("other")}`
* åŒ¹é…æ ·ä¾‹ç±»
  * æºç ä¸­ç”¨çš„æ¯”è¾ƒå¤š ï¼š å¦‚ä¸‹

```
case class Submak(){
}
case class hearetbeat(int: Int){
}
case class hhh(string: String){
}
-------main
    val rrr = Array(Submak , hearetbeat(111) , hhh("sdajkd"))

    rrr match {
      case Submak() => print("Submak")
      case  hearetbeat(int: Int) => print("sdahjd")
      case  hhh(string: String) => print("hh")
      case _ => print("æ²¡æœ‰")
    }
```

ç®€å•ä¾‹å­

```
    worcountSource.flatten.map(_.toString).map((_, 1)).groupBy(_._1).mapValues(_.map(_._2).sum).toArray.sortBy(_._2).map(_ match { case ("n" , int: Int) => print("æ‰¾åˆ°") case _ => print("bus")})

```

ä»£è¡¨å¯ä»¥å’Œwordcountè”ç”¨

### åå‡½æ•°

ç”¨æ³• ï¼šå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¸”ä»–çš„è¿”å›å€¼æ˜¯åå‡½æ•°

æ–¹æ³•ä½“é‡Œæ˜¯ä¸€å †çš„caseè¡¨è¾¾å¼

Aæ˜¯è¾“å…¥å‚æ•°çš„ç±»å‹ï¼ŒBæ˜¯è¾“å‡ºå‚æ•°çš„ç±»å‹

```
    def teacher:PartialFunction[Stringï¼ˆAï¼‰,Stringï¼ˆBï¼‰]={
      case "spark" => "dsadljaksld"
      case "hive"=> "asdad"
      case _ => "å…¶ä»–"
    }


------------------------------------è°ƒç”¨
teacherï¼ˆ"xxx"ï¼‰
```

ä¸€èˆ¬ç”¨çš„å¾ˆå°‘

æŸ¯åŠ›åŒ– =ã€‹ å¿…ç„¶å‘ç”Ÿçš„ç»“æœ ï¼Œæ²¡æœ‰ä»»ä½•æ„ä¹‰

ä¾‹å¦‚ ï¼š`def sum(x:Int,y:Int) => def sum(x:Int)(y:Int)`

ä¸Šè¿°å°±æ˜¯æŸ¯åŠ›åŒ–ï¼Œå¯ä»¥è¿›è¡Œéšå¼è½¬æ¢æ¥ä½¿ç”¨ -ã€‹ è°ƒç”¨çš„æ—¶å€™ä¹Ÿå¯ä»¥ç”¨æŸ¯åŠ›åŒ–çš„å†™æ³•

### io =ã€‹ è¯»å†™æ–‡ä»¶ url

å¦‚ä¸‹ï¼š

```
scala> import scala.io.Source
 
 val source = Source.fromFile("F:\\bigdatajava\\src\\main\\resources\\wc.data")
import scala.io.Source

scala> 
scala> source: scala.io.BufferedSource = <iterator>

scala> val strings = source.getLines()
strings: Iterator[String] = <iterator>

scala> strings.foreach(println(_))
spark,linux
hadoop
linux,hive
flume

scala> 
```

ä¸Šè¿°è¿™ä¹ˆè¯»æ•°æ®çš„è¯ï¼Œæ•°æ®åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œä¸ç®¡è¿›è¡Œä»€ä¹ˆæ“ä½œï¼Œç”šè‡³æ˜¯æ¯”è¾ƒï¼Œæ•°æ®éƒ½ä¼šæ¶ˆå¤±

éœ€æ±‚ ï¼šè¯»å–æ–‡ä»¶å†…å®¹ï¼Œç»Ÿè®¡æ–‡ä»¶æ¯ä¸ªå•è¯å‡ºç°çš„æ¬¡æ•°

å¦‚ä¸‹ï¼š

```
    val source = Source.fromFile("F:\\bigdatajava\\src\\main\\resources\\wc.data")
    val strings = source.getLines()
    strings.toArray.flatMap(_.split(",")).map((_,1)).groupBy(_._1).map(x => (x._1 , x._2.length)).toArray.sortBy(s => -s._2).foreach(println(_))
```

### éšå¼è½¬æ¢

ç±»ä¼¼äºjavaåŠ›çš„åŠ¨æ€ä»£ç† =ã€‹ ä¸ºäº†å¢å¼º

ä¾‹å­ ï¼šAçš„ä¸€ä¸ªç±» -ã€‹ Bç±» Bå¯¹Aå·²ç»æœ‰çš„ä¸œè¥¿è¿›è¡Œå¢å¼º -ã€‹ é€šè¿‡è½¬æ¢ä¹‹å Bå¯ä»¥ä½¿ç”¨Aå·²æœ‰çš„åŠŸèƒ½

åœºæ™¯ ï¼š

* éšå¼å‚æ•°
* éšå¼ç±» ï¼š é«˜å±
* éšå¼ç±»è½¬æ¢ ï¼š

å¦‚ä¸‹

```
package example.test

object te2 {

  def main(args: Array[String]): Unit = {

    implicit def mantoSuper(man: Man):SuperMan={
      new SuperMan(man.Name)
    }
    val zk = new Man("å­æ¶µ ")
    zk.fly()
  }
}

class Man(val Name:String){}

class SuperMan(Name:String){
  def fly()={
    print(Name+"can fly")
  }
}
```

éšå¼è½¬æ¢å¯ä»¥ä½œç”¨äºåŸºæœ¬ç±»å‹å¦‚ä¸‹

```
class Cal(X:Int){
  def add(a:Int): Unit ={
    print(a+X)
  }
}
---------------------------main
 implicit def INttoadd(x:Int):Cal={
      new Cal(x)
    }
    4.add(7)
```

é€šè¿‡éšå¼çš„æ–¹æ³•å¾€javaioä¸­æ·»åŠ readæ–¹æ³•

```
class RichFile(file:File){

  def read()={
    Source.fromFile(file.getPath).getLines().mkString("\n")
  }
}
---------------------------------------------------main
 implicit def ADDREAD(file:File):RichFile={
      new RichFile(file)
    }
    var q = new File("F:\\bigdatajava\\src\\main\\resources\\wc.data")
    println(q.read())

```

ğŸ‚çš„

## æ³›å‹

æ–¹æ³•ä¸­çš„æ³›å‹ï¼š

```
abstract class MsG[T](content:T)

class Wechat(conte:String) extends MsG(conte)
class QQChat[Int](cont:Int) extends MsG(cont)
class ZFBchat(con:BigInt) extends MsG[BigInt](con)
```

ä¾‹å­ ï¼š

```
class boy[A,B,C](val hashband:A,val heigtt:B,val chuanzhuio:C){
  override def toString: String = hashband +"\t"+ heigtt+"\t"+chuanzhuio
}
----------------------------------æšä¸¾
  object Facevalue extends Enumeration{
    type Face = Value
    val A,B,C,D = Value
  }
---------------------------main
new boy[example.test.te2.Facevalue,Int,Double](Facevalue.A,181,9)
```

ä¸Šä¸‹ç•Œ ï¼š

* ä¸Šç•Œï¼š`<T extends Test>`:Tæ˜¯Testçš„å­ç±» / `<? extends Test>`
* ä¸‹ç•Œï¼š`<T extends Test>`:Tå¯ä»¥è¯´Testçš„çˆ¶ç±» / `<? extends Test>`
* é€†å˜ vs åå˜ =ã€‹ + -

### æ’åº ï¼š

scala

* Ordering -> comparator
* Ordered -> comparable

é‡ç‚¹ ï¼š

* é«˜çº§api
* åŸºæœ¬ç±»å‹ä½¿ç”¨
* æ¨¡å¼åŒ¹é…
* éšå¼è½¬æ¢
* ç±»çš„å®šä¹‰

ç»­è®²scala

# Actor

scalaé‡Œçš„actorå¹¶å‘æ•ˆç‡è¦æ¯”javaæ›´é«˜çº§ã€‚å­¦ä¹ ä¸ºäº†åç»­çš„akkaåŸºæœ¬é“ºå«

å¯¹äºjavaä¸­çš„å¹¶å‘è¦è®¾ç½®çº¿ç¨‹ä»»åŠ¡ï¼Œé€šè¿‡ç›‘è§†å™¨ç»´æŒçº¿ç¨‹çš„ç¨³å®šæ€§ï¼Œå¯åŠ¨çº¿ç¨‹ï¼ŒåŠ é”ç­‰æ–¹å¼ã€‚ä½†æ˜¯è¿™æ ·ä¼šæœ‰å…±äº«å†…å­˜å˜é‡ã€‚ä¹Ÿå°±æ˜¯å¯èƒ½äº§ç”Ÿæ­»é”ï¼Œèµ„æºäº‰å¤ºç­‰é—®é¢˜ã€‚

è€Œactorå¹¶å‘ç¼–ç¨‹æ˜¯ä¸€ç§ä¸å…±äº«å†…å­˜çš„ï¼Œä¾é æ¶ˆæ¯è¿›è¡Œä¼ é€’çš„ã€‚é¿å…ä¸€äº›æ­»é”ç­‰é—®é¢˜ã€‚å½“ä¸€ä¸ªactoréœ€è¦ä¸€äº›èµ„æºçš„æ—¶å€™ï¼Œå…¶ä»–actorä¼šç»™ä»–ä¼ é€’ä¸€äº›æ¶ˆæ¯ä½œä¸ºéœ€è¦çš„ä¿¡æ¯ã€‚

```
æ³¨æ„ï¼šscalaåœ¨2.11.xç‰ˆæœ¬ä¸­åŠ å…¥äº†akkaå¹¶å‘ç¼–ç¨‹æ¡†æ¶ï¼Œåç»­å·²ç»åºŸå¼ƒäº†actor
actorçš„ç¼–ç¨‹æ¨¡å‹å’Œakkaéå¸¸åƒã€‚
```

## åˆ›å»ºactorå¯¹è±¡

å®šä¹‰class/objectç»§æ‰¿actorç±»ã€‚

é‡å†™actoræ–¹æ³•

è°ƒç”¨actoré‡Œçš„startæ–¹æ³•

```
æ³¨æ„æ¯ä¸ªactoræ˜¯å¹¶è¡Œçš„äº’ä¸å½±å“
```

3238496

3238495

3238495

3134875

3039034

3132903
