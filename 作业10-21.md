---
title: 作业10-21
date: 10/21/2022 8:42:15 AM  
categories: 作业
comments: "false"
---

# 3、用文件名过滤器实现输出指定目录下的所有java文件的文件名称 #
```

	package 项目实训;

	import java.io.File;

	import 作业.file;

	public class file过滤 {

		public static void main(String[] args) {
			// TODO Auto-generated method stub
	
			File M = new File("D:\\" , "try");
			chakan(M);
		}
	
		public static void chakan(File M) {
			File[] k = M.listFiles();
			System.out.println(k);
			for (int i = 0; i < k.length; i++) {
				File[] t = k[i].listFiles();
				if(t == null) {
					String g =  k[i].getName();
					String d = g.substring(k[i].getName().lastIndexOf("."));
					if(d.equals(".java")) {
						System.out.println(g.substring(0, k[i].getName().lastIndexOf(".")));
					}
				} else {
					chakan(k[i]);
				}
			}
		}
	}

```
- 重点字符串的相等要用equals，递归
# 判断指定路径下的所有子文件或是目录，如果是子文件则全部删除 #
```

	public static void SHANCHU(File k) {
	File[] ds =	k.listFiles(); 
	for (int i = 0; i < ds.length ; i++ ) {
		File[] h = ds[i].listFiles();
		if(h == null) {
			System.out.println("这个是个文件");
			ds[i].delete();
		} else {
			k.delete();
			SHANCHU(ds[i]);
				}
		k.delete();
		}
	}
```
- 重点：递归
# 5、查找API（File），通过程序创建指定的目录。假设在D盘下创建一个目录102班级，在102班级下又有一个子目录javaSE作业（D:\\102班级\\javaSE作业） #
```

		File G = new File("D:\\\\102班级\\\\javaSE作业");
		
		G.mkdirs();

```
# 从磁盘读取一个文件到内存中，再打印到控制台 #
```

		package 项目实训;
		
		import java.io.FileInputStream;
		import java.io.FileNotFoundException;
		import java.io.IOException;
		import java.io.InputStream;
		
		public class lkdjfslasfj {
		
			public static void main(String[] args) {
				// TODO Auto-generated method stub
		
				try {
					InputStream is = new FileInputStream("D:/a.txt");
		//				while(is.available() != 0) {
		//					System.out.println((char)is.read()); // 默认一次只读一个字符
		//				}
					
					byte[] buffer = new byte[10]; // 通过设置缓冲区进行扩展一次可读的字符数量，如果是字符型，那这个byte要变char
					int len = 0; // 设置个长度
					while((len = is.read(buffer)) != -1) // 判断我是不是超出缓冲区的限定，如果超出，就只读取超出的部分
					{
						System.out.print(new String(buffer , 0 , len)); 
					}
					is.close();
					} catch (FileNotFoundException e) {
						// TODO Auto-generated catch block
						e.printStackTrace();
					} catch (IOException e) {
						// TODO Auto-generated catch block
						e.printStackTrace();
					}
				
				}
			}
		


```

# 模拟用户登录： #

```
	
	package 作业;
	
	import java.io.File;
	import java.io.FileInputStream;
	import java.io.FileNotFoundException;
	import java.io.IOException;
	import java.io.InputStream;
	import java.io.InputStreamReader;
	import java.io.Reader;
	import java.util.HashMap;
	import java.util.Map;
	import java.util.Scanner;
	
	public class login {
	
		public static void main(String[] args) {
			// TODO Auto-generated method stub
	
			File basic = new File("D://" , "a.txt");
			try(InputStream in = new FileInputStream(basic);
				Reader re = new InputStreamReader(in , "UTF-8");	
				) {
				Map db = new HashMap();
				Scanner scanner = new Scanner(re);
				while(scanner.hasNext()) {
				String usertotal = scanner.nextLine();
				String[] username = usertotal.split(" ");
	//			System.out.println(username[0]);
	//			System.out.println(username[1]);
				db.put(username[0],username[1]);
	//			System.out.println(db);
				}
				Scanner name = new Scanner(System.in);
				String usename;
				String password;
				while(true) {
				while(true) {
				System.out.println("请输入账号：");
				 usename = name.nextLine();
				if(usename == null) {
					System.out.println("姓名不能为空");
				} else {
					break;
				}
			}
				while(true) {
					System.out.println("请输入密码");
					 password = name.nextLine();
							
					if(password == null) {
						System.out.println("密码不能为空");
						
						} else {
						break;
						}
				}
				if(password.equals(db.get(usename))) {
					System.out.println("登陆成功");
					break;
				} else {
					System.out.println("输入错误请重新输入");
				}
			}
			} catch (FileNotFoundException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			} catch (IOException e1) {
				// TODO Auto-generated catch block
				e1.printStackTrace();
			}
		}
	
	}
```
# 修改密码 #

```
	
	package 作业;
	
	import java.io.File;
	import java.io.FileInputStream;
	import java.io.FileNotFoundException;
	import java.io.IOException;
	import java.io.InputStream;
	import java.io.InputStreamReader;
	import java.io.Reader;
	import java.util.HashMap;
	import java.util.Map;
	import java.util.Scanner;
	
	public class login {
	
		public static void main(String[] args) {
			// TODO Auto-generated method stub
	
			File basic = new File("D://" , "a.txt");
			try(InputStream in = new FileInputStream(basic);
				Reader re = new InputStreamReader(in , "UTF-8");	
				) {
				Map db = new HashMap();
				Scanner scanner = new Scanner(re);
				while(scanner.hasNext()) {
				String usertotal = scanner.nextLine();
				String[] username = usertotal.split(" ");
	//			System.out.println(username[0]);
	//			System.out.println(username[1]);
				db.put(username[0],username[1]);
	//			System.out.println(db);
				}
				Scanner name = new Scanner(System.in);
				String usename;
				String password;
				while(true) {
				while(true) {
				System.out.println("请输入账号：");
				 usename = name.nextLine();
				if(usename == null) {
					System.out.println("姓名不能为空");
				} else {
					break;
				}
			}
				while(true) {
					System.out.println("请输入密码");
					 password = name.nextLine();
							
					if(password == null) {
						System.out.println("密码不能为空");
						
						} else {
						break;
						}
				}
				if(password.equals(db.get(usename))) {
					System.out.println("登陆成功");
					System.out.println("输入1进行修改密码");
					int m = Integer.parseInt(name.nextLine());
					if(m == 1) {
						if(db.containsKey(usename)) {
							System.out.println("请输入更改之后的密码");
							String newpassword = name.nextLine();
							db.put(usename, newpassword);
						} 
					}
					break;
				} else {
					System.out.println("输入错误请重新输入");
				}
			}
			} catch (FileNotFoundException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			} catch (IOException e1) {
				// TODO Auto-generated catch block
				e1.printStackTrace();
			}
		}
	
	}
```
